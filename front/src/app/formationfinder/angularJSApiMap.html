<!DOCTYPE html>
<html ng-app="myApp" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!--Angular Scripts-->
    <script src="js/angular/angular.min.js"></script>
    <script src="js/angular/angular-resource.min.js"></script>
    <script src="js/angular/angular-route.min.js"></script>
    <script src="js/angular/angular-cookies.min.js"></script>
    <script src="js/angular/angular-animate.min.js"></script>

    <style>
        html { height: 100% }
        body { height: 100% }
        #ng-map-class { height: 30%;
            width: 300px;
            height: 200px;}
    </style>

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAhbZEULLv5kcXwrA_xrlYS8JU2QjyrjO8"></script>
    <!--<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?callback=initMap&signed_in=true&key=AIzaSyAhbZEULLv5kcXwrA_xrlYS8JU2QjyrjO8" async defer></script>-->
    <script src="js/ng-map.min.js"></script>
    <script>
        var app = angular.module('myApp', ['ngMap']);
        app.controller('CustomControlCtrl', function(NgMap, $scope) {

            /*$scope.googleMapsUrl="https://maps.googleapis.com/maps/api/js?key=AIzaSyAhbZEULLv5kcXwrA_xrlYS8JU2QjyrjO8";
            var vm = this;
            //lat: 48.864716, lng: 2.349014
            var chicago = new google.maps.LatLng(48.864716, 2.349014);

            NgMap.getMap().then(function(map) {
                vm.map = map;
            });

            vm.click = function( event) {
                console.log(event)
                //vm.map.setCenter(chicago);
            };*/

            $scope.map = {
                center: [48.864716, 2.349014],
                options: function() {
                    return {
                        streetViewControl: false,
                        scrollwheel: false
                    }
                },
                events: {
                    click: function(e, map) {
                        alert(e.latLng.lat() + " " + e.latLng.lng());
                    }
                }
            };

                var marker;
                var vm = this;
            NgMap.getMap().then(function(map) {
                    vm.map = map;
                    marker = map.markers[0];
                console.log("Asignando datos")
                });
                vm.centerChanged = function(event) {
                   /* $timeout(function() {
                        vm.map.panTo(marker.getPosition());
                    }, 3000);*/
                }
                vm.click = function(event ) {
                    vm.map.setZoom(8);
                    vm.map.setCenter(marker.getPosition());
                    console.log("En esta posicion ");
                    $scope.data = vm.map;
                    possArray = String(event.latLng).split(",")
                    latitud = possArray[0]
                    longitud = possArray[1]
                    alert('this is at '+ latitud + " :" + longitud);
                   // alert(arg1+arg2);
                }
            });

    </script>
</head>

<body ng-controller="CustomControlCtrl as vm">
Custom Control<br/>
This custom control simply returns the user to Chicago when clicked
<br/>
<!--<ng-map center="48.864716, 2.349014" zoom="6" default-style="true">
    <custom-control id="home" position="TOP_RIGHT" index="1" on-click="vm.click()">
        <div >Home1</div>
    </custom-control>
</ng-map>-->
<!--<div map-lazy-load="https://maps.google.com/maps/api/js"
     map-lazy-load-params="" on-click="vm.click()">
    <ng-map center="48.864716, 2.349014" zoom="6"></ng-map>
</div>-->
Simple Click Event
<br/>
Click the marker to zoom and drag and watch it comes back after 3 seconds.
<input type="text" name="data" value="">
<div id="ng-map-class">
<ng-map  zoom="4" center="48.864716, 2.349014" on-center-changed="vm.centerChanged()" on-click="vm.click()">
    <marker position="48.864716, 2.349014"  title="Click to zoom"></marker>
</ng-map>
</div>


</body>
</html>


</body>
</html>